(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Pe=(e,t)=>e===t,q=Symbol("solid-proxy"),Ae=typeof Proxy=="function",U={equals:Pe};let pe=$e;const T=1,X=2,_e={owned:null,cleanups:null,context:null,owner:null};var d=null;let ee=null,Me=null,h=null,w=null,S=null,Z=0;function Re(e,t){const n=h,s=d,i=e.length===0,o=t===void 0?s:t,c=i?_e:{owned:null,cleanups:null,context:o?o.context:null,owner:o},r=i?e:()=>e(()=>I(()=>j(c)));d=c,h=null;try{return G(r,!0)}finally{h=n,d=s}}function E(e,t){t=t?Object.assign({},U,t):U;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.value)),Ee(n,i));return[Se.bind(n),s]}function $(e,t,n){const s=re(e,t,!1,T);D(s)}function ke(e,t,n){pe=De;const s=re(e,t,!1,T);s.user=!0,S?S.push(s):D(s)}function F(e,t,n){n=n?Object.assign({},U,n):U;const s=re(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,D(s),Se.bind(s)}function I(e){if(h===null)return e();const t=h;h=null;try{return e()}finally{h=t}}function oe(e){return d===null||(d.cleanups===null?d.cleanups=[e]:d.cleanups.push(e)),e}function Se(){if(this.sources&&this.state)if(this.state===T)D(this);else{const e=w;w=null,G(()=>H(this),!1),w=e}if(h){const e=this.observers?this.observers.length:0;h.sources?(h.sources.push(this),h.sourceSlots.push(e)):(h.sources=[this],h.sourceSlots=[e]),this.observers?(this.observers.push(h),this.observerSlots.push(h.sources.length-1)):(this.observers=[h],this.observerSlots=[h.sources.length-1])}return this.value}function Ee(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&G(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],c=ee&&ee.running;c&&ee.disposed.has(o),(c?!o.tState:!o.state)&&(o.pure?w.push(o):S.push(o),o.observers&&Te(o)),c||(o.state=T)}if(w.length>1e6)throw w=[],new Error},!1)),t}function D(e){if(!e.fn)return;j(e);const t=Z;Ie(e,e.value,t)}function Ie(e,t,n){let s;const i=d,o=h;h=d=e;try{s=e.fn(t)}catch(c){return e.pure&&(e.state=T,e.owned&&e.owned.forEach(j),e.owned=null),e.updatedAt=n+1,Le(c)}finally{h=o,d=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ee(e,s):e.value=s,e.updatedAt=n)}function re(e,t,n,s=T,i){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:d,context:d?d.context:null,pure:n};return d===null||d!==_e&&(d.owned?d.owned.push(o):d.owned=[o]),o}function K(e){if(e.state===0)return;if(e.state===X)return H(e);if(e.suspense&&I(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Z);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===T)D(e);else if(e.state===X){const s=w;w=null,G(()=>H(e,t[0]),!1),w=s}}function G(e,t){if(w)return e();let n=!1;t||(w=[]),S?n=!0:S=[],Z++;try{const s=e();return je(n),s}catch(s){n||(S=null),w=null,Le(s)}}function je(e){if(w&&($e(w),w=null),e)return;const t=S;S=null,t.length&&G(()=>pe(t),!1)}function $e(e){for(let t=0;t<e.length;t++)K(e[t])}function De(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:K(s)}for(t=0;t<n;t++)K(e[t])}function H(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const i=s.state;i===T?s!==t&&(!s.updatedAt||s.updatedAt<Z)&&K(s):i===X&&H(s,t)}}}function Te(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=X,n.pure?w.push(n):S.push(n),n.observers&&Te(n))}}function j(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),c=n.observerSlots.pop();s<i.length&&(o.sourceSlots[c]=s,i[s]=o,n.observerSlots[s]=c)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)j(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)j(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ge(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Le(e,t=d){throw Ge(e)}function _(e,t){return I(()=>e(t||{}))}function B(){return!0}const ne={get(e,t,n){return t===q?n:e.get(t)},has(e,t){return t===q?!0:e.has(t)},set:B,deleteProperty:B,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:B,deleteProperty:B}},ownKeys(e){return e.keys()}};function te(e){return(e=typeof e=="function"?e():e)?e:{}}function Ve(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function be(...e){let t=!1;for(let c=0;c<e.length;c++){const r=e[c];t=t||!!r&&q in r,e[c]=typeof r=="function"?(t=!0,F(r)):r}if(Ae&&t)return new Proxy({get(c){for(let r=e.length-1;r>=0;r--){const l=te(e[r])[c];if(l!==void 0)return l}},has(c){for(let r=e.length-1;r>=0;r--)if(c in te(e[r]))return!0;return!1},keys(){const c=[];for(let r=0;r<e.length;r++)c.push(...Object.keys(te(e[r])));return[...new Set(c)]}},ne);const n={},s=Object.create(null);for(let c=e.length-1;c>=0;c--){const r=e[c];if(!r)continue;const l=Object.getOwnPropertyNames(r);for(let u=l.length-1;u>=0;u--){const f=l[u];if(f==="__proto__"||f==="constructor")continue;const a=Object.getOwnPropertyDescriptor(r,f);if(!s[f])s[f]=a.get?{enumerable:!0,configurable:!0,get:Ve.bind(n[f]=[a.get.bind(r)])}:a.value!==void 0?a:void 0;else{const b=n[f];b&&(a.get?b.push(a.get.bind(r)):a.value!==void 0&&b.push(()=>a.value))}}}const i={},o=Object.keys(s);for(let c=o.length-1;c>=0;c--){const r=o[c],l=s[r];l&&l.get?Object.defineProperty(i,r,l):i[r]=l?l.value:void 0}return i}function Be(e,...t){if(Ae&&q in e){const i=new Set(t.length>1?t.flat():t[0]),o=t.map(c=>new Proxy({get(r){return c.includes(r)?e[r]:void 0},has(r){return c.includes(r)&&r in e},keys(){return c.filter(r=>r in e)}},ne));return o.push(new Proxy({get(c){return i.has(c)?void 0:e[c]},has(c){return i.has(c)?!1:c in e},keys(){return Object.keys(e).filter(c=>!i.has(c))}},ne)),o}const n={},s=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,i),c=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let r=!1,l=0;for(const u of t)u.includes(i)&&(r=!0,c?s[l][i]=o.value:Object.defineProperty(s[l],i,o)),++l;r||(c?n[i]=o.value:Object.defineProperty(n,i,o))}return[...s,n]}const qe=e=>`Stale read from <${e}>.`;function Ue(e){const t=e.keyed,n=F(()=>e.when,void 0,{equals:(s,i)=>t?s===i:!s==!i});return F(()=>{const s=n();if(s){const i=e.children;return typeof i=="function"&&i.length>0?I(()=>i(t?s:()=>{if(!I(n))throw qe("Show");return e.when})):i}return e.fallback},void 0,void 0)}const Xe=new Set(["innerHTML","textContent","innerText","children"]),Fe=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ke=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),He={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function ze(e,t,n){let s=n.length,i=t.length,o=s,c=0,r=0,l=t[i-1].nextSibling,u=null;for(;c<i||r<o;){if(t[c]===n[r]){c++,r++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===c){const f=o<s?r?n[r-1].nextSibling:n[o-r]:l;for(;r<o;)e.insertBefore(n[r++],f)}else if(o===r)for(;c<i;)(!u||!u.has(t[c]))&&t[c].remove(),c++;else if(t[c]===n[o-1]&&n[r]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[r++],t[c++].nextSibling),e.insertBefore(n[--o],f),t[i]=n[o]}else{if(!u){u=new Map;let a=r;for(;a<o;)u.set(n[a],a++)}const f=u.get(t[c]);if(f!=null)if(r<f&&f<o){let a=c,b=1,N;for(;++a<i&&a<o&&!((N=u.get(t[a]))==null||N!==f+b);)b++;if(b>f-r){const P=t[c];for(;r<f;)e.insertBefore(n[r++],P)}else e.replaceChild(n[r++],t[c++])}else c++;else t[c++].remove()}}}const me="_$DX_DELEGATE";function Ze(e,t,n,s={}){let i;return Re(o=>{i=o,t===document?e():A(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{i(),t.textContent=""}}function L(e,t,n){let s;const i=()=>{const c=document.createElement("template");return c.innerHTML=e,c.content.firstChild},o=()=>(s||(s=i())).cloneNode(!0);return o.cloneNode=o,o}function ce(e,t=window.document){const n=t[me]||(t[me]=new Set);for(let s=0,i=e.length;s<i;s++){const o=e[s];n.has(o)||(n.add(o),t.addEventListener(o,it))}}function se(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Ye(e,t,n,s){s==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,s)}function Qe(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function Y(e,t){t==null?e.removeAttribute("class"):e.className=t}function le(e,t,n,s){if(s)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n,typeof n!="function"&&n)}function We(e,t,n={}){const s=Object.keys(t||{}),i=Object.keys(n);let o,c;for(o=0,c=i.length;o<c;o++){const r=i[o];!r||r==="undefined"||t[r]||(we(e,r,!1),delete n[r])}for(o=0,c=s.length;o<c;o++){const r=s[o],l=!!t[r];!r||r==="undefined"||n[r]===l||!l||(we(e,r,!0),n[r]=l)}return n}function Je(e,t,n){if(!t)return n?se(e,"style"):t;const s=e.style;if(typeof t=="string")return s.cssText=t;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&s.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(s.setProperty(o,i),n[o]=i);return n}function et(e,t={},n,s){const i={};return $(()=>typeof t.ref=="function"&&tt(t.ref,e)),$(()=>nt(e,t,n,!0,i,!0)),i}function tt(e,t,n){return I(()=>e(t,n))}function A(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return z(e,t,s,n);$(i=>z(e,t(),i,n),s)}function nt(e,t,n,s,i={},o=!1){t||(t={});for(const c in i)if(!(c in t)){if(c==="children")continue;i[c]=ye(e,c,null,i[c],n,o,t)}for(const c in t){if(c==="children")continue;const r=t[c];i[c]=ye(e,c,r,i[c],n,o,t)}}function st(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function we(e,t,n){const s=t.trim().split(/\s+/);for(let i=0,o=s.length;i<o;i++)e.classList.toggle(s[i],n)}function ye(e,t,n,s,i,o,c){let r,l,u,f;if(t==="style")return Je(e,n,s);if(t==="classList")return We(e,n,s);if(n===s)return s;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const a=t.slice(3);s&&e.removeEventListener(a,s,typeof s!="function"&&s),n&&e.addEventListener(a,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const a=t.slice(10);s&&e.removeEventListener(a,s,!0),n&&e.addEventListener(a,n,!0)}else if(t.slice(0,2)==="on"){const a=t.slice(2).toLowerCase(),b=Ke.has(a);if(!b&&s){const N=Array.isArray(s)?s[0]:s;e.removeEventListener(a,N)}(b||n)&&(le(e,a,n,b),b&&ce([a]))}else if(t.slice(0,5)==="attr:")se(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")Qe(e,t.slice(5),n);else if((f=t.slice(0,5)==="prop:")||(u=Xe.has(t))||!i||(r=e.nodeName.includes("-")||"is"in c))f&&(t=t.slice(5),l=!0),t==="class"||t==="className"?Y(e,n):r&&!l&&!u?e[st(t)]=n:e[t]=n;else{const a=t.indexOf(":")>-1&&He[t.split(":")[0]];a?Ye(e,a,t,n):se(e,Fe[t]||t,n)}return n}function it(e){let t=e.target;const n=`$$${e.type}`,s=e.target,i=e.currentTarget,o=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),c=()=>{const l=t[n];if(l&&!t.disabled){const u=t[`${n}Data`];if(u!==void 0?l.call(t,u,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},r=()=>{for(;c()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const l=e.composedPath();o(l[0]);for(let u=0;u<l.length-2&&(t=l[u],!!c());u++){if(t._$host){t=t._$host,r();break}if(t.parentNode===i)break}}else r();o(s)}function z(e,t,n,s,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,c=s!==void 0;if(e=c&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(c){let r=n[0];r&&r.nodeType===3?r.data!==t&&(r.data=t):r=document.createTextNode(t),n=k(e,n,s,r)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=k(e,n,s);else{if(o==="function")return $(()=>{let r=t();for(;typeof r=="function";)r=r();n=z(e,r,n,s)}),()=>n;if(Array.isArray(t)){const r=[],l=n&&Array.isArray(n);if(ie(r,t,n,i))return $(()=>n=z(e,r,n,s,!0)),()=>n;if(r.length===0){if(n=k(e,n,s),c)return n}else l?n.length===0?xe(e,r,s):ze(e,n,r):(n&&k(e),xe(e,r));n=r}else if(t.nodeType){if(Array.isArray(n)){if(c)return n=k(e,n,s,t);k(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ie(e,t,n,s){let i=!1;for(let o=0,c=t.length;o<c;o++){let r=t[o],l=n&&n[e.length],u;if(!(r==null||r===!0||r===!1))if((u=typeof r)=="object"&&r.nodeType)e.push(r);else if(Array.isArray(r))i=ie(e,r,l)||i;else if(u==="function")if(s){for(;typeof r=="function";)r=r();i=ie(e,Array.isArray(r)?r:[r],Array.isArray(l)?l:[l])||i}else e.push(r),i=!0;else{const f=String(r);l&&l.nodeType===3&&l.data===f?e.push(l):e.push(document.createTextNode(f))}}return i}function xe(e,t,n=null){for(let s=0,i=t.length;s<i;s++)e.insertBefore(t[s],n)}function k(e,t,n,s){if(n===void 0)return e.textContent="";const i=s||document.createTextNode("");if(t.length){let o=!1;for(let c=t.length-1;c>=0;c--){const r=t[c];if(i!==r){const l=r.parentNode===e;!o&&!c?l?e.replaceChild(i,r):e.insertBefore(i,n):l&&r.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const ot=!1,ve="53300001-0023-4bd4-bbd5-a6920e4c5653",rt="53300002-0023-4bd4-bbd5-a6920e4c5653",ct="53300003-0023-4bd4-bbd5-a6920e4c5653",lt=3;class at{device=null;get deviceName(){return this.device?.name||null}server=null;service=null;tx_characteristic=null;rx_characteristic=null;get connected(){return this.device&&this.device.gatt?.connected}onConnectionChange=null;onReconnectionChange=null;wantsConnection=!1;get reconnecting(){return this.device&&!this.device.gatt?.connected&&this.enableAutoReconnect}reconnectTimeoutId=void 0;_enableAutoReconnect=!0;get enableAutoReconnect(){return this._enableAutoReconnect}set enableAutoReconnect(t){this._enableAutoReconnect=t,t||(clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=void 0,this.connected||(this.device=null,this.onReconnectionChange&&this.onReconnectionChange(!1)))}constructor(){}async connectPrompt(){try{const t=await navigator.bluetooth.requestDevice({filters:[{services:[ve]}]});await this.connect(t)}catch{console.warn("closed connect prompt")}}async connect(t){t&&(this.device=t,this.wantsConnection=!0,this.server=await t.gatt.connect(),console.log("device connected:",t.name),this.onReconnectionChange&&this.onReconnectionChange(!1),this.onConnectionChange&&this.onConnectionChange(!0),this.service=await this.server.getPrimaryService(ve),this.tx_characteristic=await this.service.getCharacteristic(rt),this.rx_characteristic=await this.service.getCharacteristic(ct),console.log("service + characteristics obtained"),t.addEventListener("gattserverdisconnected",()=>{console.log("device disconneted"),this.server=null,this.service=null,this.tx_characteristic=null,this.rx_characteristic=null,this.onConnectionChange&&this.onConnectionChange(!1),this.enableAutoReconnect&&this.wantsConnection?(this.onReconnectionChange&&this.onReconnectionChange(!0),this._attemptReconnect()):t=null}))}async _attemptReconnect(){if(!this.connected&&this.device){console.log("reconnect attempt...");try{clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=void 0,await this.connect(this.device)}catch{clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=setTimeout(()=>{console.log("reconnect timeout"),this._attemptReconnect()},1e3*lt)}}}disconnect(){this.connected?(this.wantsConnection=!1,this.device.gatt?.disconnect(),this.device=null):(this.wantsConnection=!1,this.device=null,clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=void 0,this.onReconnectionChange&&this.onReconnectionChange(!1))}async sendVibe(t){if(this.tx_characteristic){const s="Vibrate:"+Math.min(20,Math.max(0,t)).toFixed(0)+";",o=new TextEncoder().encode(s);await this.tx_characteristic.writeValue(o)}}async sendCmd(t,n){if(this.tx_characteristic){const s=Math.min(100,Math.max(0,n)).toFixed(0),i=t+":"+s+";",c=new TextEncoder().encode(i);await this.tx_characteristic.writeValue(c)}}}const p=new at;var ut=L("<svg stroke-width=0>");function Oe(e,t){const n=be(e.a,t),[s,i]=Be(n,["src"]),[o,c]=E(""),r=F(()=>t.title?`${e.c}<title>${t.title}</title>`:e.c);return ke(()=>c(r())),oe(()=>{c("")}),(()=>{var l=ut();return et(l,be({get stroke(){return e.a?.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},i,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return o()}}),!0),A(l,()=>ot),l})()}function ft(e){return Oe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"/>'},e)}function ht(e){return Oe({a:{viewBox:"0 0 512 512"},c:'<path d="M256 208A48 48 0 1 0 256 304 48 48 0 1 0 256 208z"/><path d="m470.39 300-.47-.38-31.56-24.75a16.11 16.11 0 0 1-6.1-13.33v-11.56a16 16 0 0 1 6.11-13.22L469.92 212l.47-.38a26.68 26.68 0 0 0 5.9-34.06l-42.71-73.9a1.59 1.59 0 0 1-.13-.22A26.86 26.86 0 0 0 401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 0 1-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 0 1-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 0 0 298.76 26h-85.52a26.92 26.92 0 0 0-26.45 22.39l-.09.56-5.57 39.67a16 16 0 0 1-8.13 11.82 175.21 175.21 0 0 0-10 5.82 15.92 15.92 0 0 1-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 0 0-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 0 0 5.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 0 1 6.1 13.33v11.56a16 16 0 0 1-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 0 0-5.9 34.06l42.71 73.9a1.59 1.59 0 0 1 .13.22 26.86 26.86 0 0 0 32.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0 1 14.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 0 1 8.19 11.82l5.56 39.59.12.72A27.22 27.22 0 0 0 213.24 486h85.52a26.92 26.92 0 0 0 26.45-22.39l.09-.56 5.57-39.67a16 16 0 0 1 8.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0 1 14.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0 0 32.48-11.34 2.53 2.53 0 0 1 .13-.22l42.71-73.89a26.7 26.7 0 0 0-5.89-34.11Zm-134.48-40.24a80 80 0 1 1-83.66-83.67 80.21 80.21 0 0 1 83.66 83.67Z"/>'},e)}var dt=L("<div>"),gt=L('<button class="flex flex-row items-center gap-x-2 rounded-md bg-blue-600 p-1.5 px-3 text-xl text-white hover:bg-opacity-90"><span class="text-sm font-bold tracking-wider text-gray-200">Connect</span> '),bt=L('<button class="flex flex-row items-center gap-x-2 rounded-md bg-gray-600 p-1.5 px-3 text-xl text-white hover:bg-opacity-90">'),mt=L('<div class="flex flex-row items-center justify-end gap-x-3"><span>'),wt=L('<header class="flex flex-row items-center justify-between p-4"><div class="container mx-auto flex items-center justify-between"><h1 class="text-3xl font-bold tracking-wider text-white">OSP');const yt=({status:e})=>(()=>{var t=dt();return $(()=>Y(t,`${{on:"bg-green-400",off:"bg-gray-600",wait:"animate-pulse bg-yellow-400 shadow-lg shadow-yellow-400/50"}[e]} size-4 shrink-0 rounded-md transition-colors`)),t})(),xt=({onClick:e})=>(()=>{var t=gt(),n=t.firstChild;return n.nextSibling,le(t,"click",e,!0),A(t,_(ft,{}),null),t})(),vt=({onClick:e})=>(()=>{var t=bt();return le(t,"click",e,!0),A(t,_(ht,{})),t})(),Ct=e=>(()=>{var t=wt(),n=t.firstChild;return n.firstChild,A(n,_(Ue,{get when(){return e.connected||e.reconnection},get fallback(){return _(xt,{onClick:()=>p.connectPrompt()})},get children(){var s=mt(),i=s.firstChild;return A(s,_(yt,{get status(){return e.reconnection?"wait":"on"}}),i),A(i,()=>p.deviceName||"No Device"),A(s,_(vt,{onClick:()=>{p.disconnect()}}),null),$(()=>Y(i,`text-md me-3 ${p.deviceName?"text-gray-400":"text-gray-500"}`)),s}}),null),t})();ce(["click"]);var At=L('<div class=""><div class=text-red-500></div><div class="flex flex-row items-center justify-around gap-x-2"><div class="flex flex-row items-center gap-x-2"><span class="size-3 rounded-full"></span><span class="text-2xl text-gray-300">V</span><span class=text-2xl></span></div><div class="flex flex-row items-center gap-x-2"><span></span><span class="text-2xl text-gray-300">G</span><span class=text-2xl></span></div></div><div class="mx-2 mt-32 flex flex-col items-stretch justify-between gap-y-8"><button class="h-32 flex-grow select-none rounded bg-gray-600 py-2 font-bold text-gray-500">Touch to Control Vibe</button><div class=flex-grow></div><button class="h-16 flex-grow select-none rounded bg-red-800 py-2 font-bold text-red-300 disabled:bg-gray-600 disabled:text-gray-500">KILL VIBE');function pt(e){let t=e%360+360;return t>180&&(t=t-360),t}function _t(e){if(e<0)return 0;if(e>90)return 50;let i=Math.min(Math.abs(e),90);return St(i,0,90,0,50)}function St(e,t,n,s,i){const o=s+(i-s)*((e-t)/(n-t));return Math.min(Math.max(o,s),i)}class Et{_s;constructor(){this._s=0}boost=2;decay=.98;update(t){return this._s*=this.decay,this._s+=t*this.boost/100,this._s=Math.max(0,Math.min(1,this._s)),this._s}get value(){return this._s}set value(t){this._s=Math.max(0,Math.min(1,t))}}const Ce=50,$t=26,Tt=20,Lt=({disabled:e})=>{const[t,n]=E(""),[s,i]=E(0),[o,c]=E(0),[r,l]=E(!1),[u,f]=E("off"),a=new Et;let b=!0;const N=setInterval(()=>{b?p.sendVibe(s()):p.sendCmd("Grit",o()),b=!b},1e3/$t);return oe(()=>{clearInterval(N)}),Promise.all([navigator.permissions.query({name:"accelerometer"}),navigator.permissions.query({name:"magnetometer"}),navigator.permissions.query({name:"gyroscope"})]).then(P=>{if(P.every(x=>x.state==="granted")){(window.LinearAccelerationSensor===void 0||window.AbsoluteOrientationSensor===void 0)&&n(y=>y+`Accelerometer not supported
`);const x=new window.LinearAccelerationSensor({frequency:Ce});x.addEventListener("reading",()=>{const{x:y,y:m,z:v}=x,C=9.81,M={x:y/C,y:m/C,z:v/C};if(u()=="change"){const R=Math.abs(M.x);a.update(R),i(Math.round(a.value*Tt))}else u()=="off"&&(a.value=0,i(0))}),x.addEventListener("error",y=>{n(m=>m+y.error.name+`
`)});const O=new window.AbsoluteOrientationSensor({frequency:Ce});O.addEventListener("reading",()=>{const[y,m,v,C]=O.quaternion,M=Math.atan2(y*m+v*C,.5-(m*m+v*v))/Math.PI*180,R=Math.asin(2*(y*v-C*m))/Math.PI*180,Q=Math.atan2(m*v+y*C,.5-(v*v+C*C))/Math.PI*180,W={roll:-R,pitch:-pt(Q-180),yaw:M},J=r()?_t(W.pitch):0;c(J)}),O.addEventListener("error",y=>{n(m=>m+y.error.name+`
`)}),x.start(),O.start()}else n(x=>x+`Accelerometer permission denied
`)}),(()=>{var P=At(),x=P.firstChild,O=x.nextSibling,y=O.firstChild,m=y.firstChild,v=m.nextSibling,C=v.nextSibling,M=y.nextSibling,R=M.firstChild,Q=R.nextSibling,W=Q.nextSibling,J=O.nextSibling,V=J.firstChild,Ne=V.nextSibling,ae=Ne.nextSibling;return A(x,t),A(C,()=>s().toFixed(0).padStart(2,"0")),M.$$click=()=>l(g=>!g),A(W,()=>o().toFixed(0).padStart(2,"0")),V.addEventListener("touchcancel",()=>f(g=>g=="off"?"off":"hold")),V.$$touchend=()=>f(g=>g=="off"?"off":"hold"),V.$$touchstart=()=>f("change"),ae.$$click=()=>f("off"),$(g=>{var ue=u()=="hold",fe=u()=="off",he=u()=="change",de=`size-3 rounded-full ${r()?"bg-orange-500":"bg-gray-500"}`,ge=u()=="off";return ue!==g.e&&m.classList.toggle("bg-yellow-500",g.e=ue),fe!==g.t&&m.classList.toggle("bg-gray-500",g.t=fe),he!==g.a&&m.classList.toggle("bg-purple-500",g.a=he),de!==g.o&&Y(R,g.o=de),ge!==g.i&&(ae.disabled=g.i=ge),g},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),P})()};ce(["click","touchstart","touchend"]);var Ot=L("<div class=mt-4>");const Nt=()=>{const[e,t]=E(!1),[n,s]=E(!1);return p.onConnectionChange=i=>t(i),p.onReconnectionChange=i=>s(i),oe(()=>{p.onConnectionChange=null,p.onReconnectionChange=null}),[_(Ct,{get connected(){return e()},get reconnection(){return n()}}),Ot(),_(Lt,{get disabled(){return!e()}})]},Pt=document.getElementById("root");Ze(()=>_(Nt,{}),Pt);
